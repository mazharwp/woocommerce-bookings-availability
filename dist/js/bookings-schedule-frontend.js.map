{"version":3,"sources":["webpack://wc-bookings-availability.[name]/webpack/bootstrap","webpack://wc-bookings-availability.[name]/external {\"this\":[\"wp\",\"element\"]}","webpack://wc-bookings-availability.[name]/./node_modules/prop-types/index.js","webpack://wc-bookings-availability.[name]/external {\"this\":[\"wp\",\"i18n\"]}","webpack://wc-bookings-availability.[name]/external \"moment\"","webpack://wc-bookings-availability.[name]/./assets/js/includes/date-utils.js","webpack://wc-bookings-availability.[name]/external {\"this\":[\"wp\",\"components\"]}","webpack://wc-bookings-availability.[name]/external \"lodash\"","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://wc-bookings-availability.[name]/./assets/js/components/icons/list-alt.js","webpack://wc-bookings-availability.[name]/./assets/js/components/icons/calendar-alt.js","webpack://wc-bookings-availability.[name]/./assets/js/components/icons/checkbox-checked.js","webpack://wc-bookings-availability.[name]/./assets/js/components/icons/checkbox-unchecked.js","webpack://wc-bookings-availability.[name]/./assets/js/components/icons/radio-selected.js","webpack://wc-bookings-availability.[name]/./assets/js/components/icons/radio-unselected.js","webpack://wc-bookings-availability.[name]/./assets/js/components/icons/trending-flat.js","webpack://wc-bookings-availability.[name]/./assets/js/components/icons/keyboard-arrow-right.js","webpack://wc-bookings-availability.[name]/./assets/js/components/icons/index.js","webpack://wc-bookings-availability.[name]/./assets/js/includes/misc-utils.js","webpack://wc-bookings-availability.[name]/external {\"this\":[\"wp\",\"apiFetch\"]}","webpack://wc-bookings-availability.[name]/./assets/js/blocks/common-context/context.js","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/extends.js","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://wc-bookings-availability.[name]/./assets/js/blocks/bookings-calendar/context/context.js","webpack://wc-bookings-availability.[name]/external {\"this\":[\"wp\",\"url\"]}","webpack://wc-bookings-availability.[name]/./assets/js/blocks/products-context/context.js","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://wc-bookings-availability.[name]/./assets/js/blocks/availability-context/context.js","webpack://wc-bookings-availability.[name]/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://wc-bookings-availability.[name]/./assets/js/components/event-table/container.js","webpack://wc-bookings-availability.[name]/./assets/js/blocks/bookings-schedule/context/context.js","webpack://wc-bookings-availability.[name]/./assets/js/blocks/availability-context/availability-state.js","webpack://wc-bookings-availability.[name]/./assets/js/components/event-item/index.js","webpack://wc-bookings-availability.[name]/./assets/js/components/event-item/empty.js","webpack://wc-bookings-availability.[name]/./assets/js/components/page-loader/index.js","webpack://wc-bookings-availability.[name]/./assets/js/components/event-table/index.js","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/createClass.js","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/inherits.js","webpack://wc-bookings-availability.[name]/./assets/js/blocks/common-context/common-state.js","webpack://wc-bookings-availability.[name]/./assets/js/blocks/products-context/products-state.js","webpack://wc-bookings-availability.[name]/./assets/js/blocks/bookings-schedule/style.scss?183e","webpack://wc-bookings-availability.[name]/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://wc-bookings-availability.[name]/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://wc-bookings-availability.[name]/external \"moment-timezone\"","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/typeof.js","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://wc-bookings-availability.[name]/./assets/js/components/page-loader/style.scss?8492","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://wc-bookings-availability.[name]/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://wc-bookings-availability.[name]/./assets/js/blocks/bookings-schedule/context/schedule-state.js","webpack://wc-bookings-availability.[name]/./assets/js/blocks/bookings-schedule/frontend.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","this","DATE_RANGES","TODAY","THIS_WEEK","THIS_MONTH","CUSTOM","CONVERT_DIRECTIONS","LOCAL_TO_SERVER","SERVER_TO_LOCAL","DATE_RANGE_TYPE_LABELS","__","DATE_RANGE_OPTIONS","label","DATE_RANGE_OPTIONS_CAL","DATE_QUERY_FORMAT","getDateLimits","dateRangeType","intervalOffset","currentDate","minDate","moment","startOf","toDate","maxDate","intervalDays","add","setDate","endOf","minDisplayDate","startOfWeek","parseInt","wc_bookings_availability_args","start_of_week","_minDate","day","startDayOffset","endDayOffset","getDate","addTimeIfToday","isSame","format","isCustom","getReadableDateRangeString","getTime","getDateRangeTypeString","getDateQueryLimits","formatDateQueryLimits","getDayOfWeek","getCalStartEndTime","today","Date","todayDay","isoWeekday","wpStartOfWeek","weekStart","subtract","weekEnd","calendarWeekStartEndTime","date","monthStart","startColumn","startTime","monthEnd","endColumn","endTime","currentMonth","calendarMonthStartEndTime","getHumanReadableDate","formatDuration","product","endDate","formattedDuration","durationPeriodSeparator","duration","durationUnit","startDate","startDateDay","startDateMonth","timeFormat","time_format_moment","getDisplayTimezone","endDateDay","endDateMonth","days","sprintf","_n","min_duration","duration_type","max_duration","months","startOfDuration","endOfDuration","getNoSlotsInRangeMessage","getErrorLoadingSlotsInRangeMessage","convertDate","convertDirection","offsetHours","referenceDate","timezone_conversion","referenceTime","clientOffset","utcOffset","tz","server_timezone","serverOffset","getClientServerTimezoneOffsetHours","localizedDate","localizeDate","guess","getIsRestrictedDay","has_restricted_days","restricted_days","day_of_week","undefined","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arr","icon","xmlns","width","height","viewBox","fill","SCREEN","ALL_PRODUCTS","PRODUCTS_SCREEN","CATEGORIES_SCREEN","RESOURCES_SCREEN","screenOptions","DEFAULT_PAGE_SIZE","attributesDictionary","common","categoryIds","type","default","source","selector","attribute","currentScreen","productIds","resourceIds","showDateNav","calendar","showSoldOut","example","schedule","infiniteScrollEnabled","slotsPerPage","showEmptyDates","getAttributesDefFor","blockName","decodeAttributesFor","attributes","attributesDef","decodedAttributes","keys","createContext","_extends","assign","target","arguments","length","apply","obj","configurable","writable","arrayWithoutHoles","iterableToArray","nonIterableSpread","memo","stylesInDom","isOldIE","Boolean","window","document","all","atob","getTarget","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","listToStyles","list","options","styles","newStyles","item","id","base","part","css","media","sourceMap","parts","push","addStylesToDom","domStyle","j","refs","addStyle","insertStyleElement","style","createElement","nonce","forEach","setAttribute","insert","Error","appendChild","textStore","replaceText","index","replacement","filter","join","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","singleton","singletonCounter","update","styleIndex","btoa","concat","unescape","encodeURIComponent","JSON","stringify","firstChild","parentNode","removeStyleElement","newObj","newList","mayRemove","_i","_domStyle","self","ReferenceError","BookingContainer","props","useContext","commonContext","offset","gotoCurrent","gotoNext","gotoPrev","dateRangeString","dateRangeTypeString","className","href","onClick","preventDefault","propTypes","PropTypes","string","bool","getJsonString","query","sort","serializeQueryArgs","omit","AvailabilityState","useState","availability","setAvailability","availabilityRequesting","setAvailabilityRequesting","availabilityError","setAvailabilityError","getAvailability","data","records","pages","map","page","Provider","hasResultsForQuery","getAvailabilityCount","getRemainingRecordsCount","recordsCount","getAvailabilityTotalRecords","requestAvailability","getPastTimes","pageSize","queryArgs","product_ids","category_ids","resource_ids","min_date","max_date","limit","get_past_times","hide_unavailable","path","addQueryArgs","pickBy","identity","apiFetch","then","count","requestedAvailability","_query","queryKey","newPage","newAvailability","merge","has","storeAvailability","src","productId","product_id","duration_unit","serverDate","error","highestPageForQuery","Math","max","children","EventItem","available","loading","setLoading","isPreview","addSubheader","placeholder","availableData","priceHtml","price_html","isAvailable","listClassName","buttonText","has_persons","has_resources","buttonClassName","permalink","dangerouslySetInnerHTML","__html","isBookable","url","ajax_url","nonces","add_booking_to_cart","booked","location","checkout_url","link","disabled","shape","number","resources","title","isRequired","defaultProps","EmptyEventItem","PageLoader","loadMore","onScroll","scrollTriggerRef","createRef","addEventListener","prevProps","isLoading","removeEventListener","scrollTriggerIsInViewport","scrollTrigger","current","top","getBoundingClientRect","innerHeight","remainingRecords","ref","loadMoreClick","Component","func","EventTable","setPage","firstRender","useRef","pageLoader","productContext","requestProducts","getProducts","products","productsRequesting","productsError","availabilityContext","scheduleContext","calendarContext","resetOffset","forceDateFromProps","previousProps","useEffect","usePreviousProps","productsQuery","forcedDate","dateRange","availabilityQuery","isError","isRequesting","hasResults","isLastPage","useLayoutEffect","loadMoreSlots","previousDate","shownAvailability","placeholderAvailability","slice","eventItems","placeHolderCount","min","placeHolderProduct","cost","momentPreviousDate","addSubHeader","isBefore","renderEvents","node","instance","Constructor","TypeError","_defineProperties","descriptor","protoProps","staticProps","_typeof","assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","subClass","superClass","constructor","CommonState","newProps","isFrontend","setOffset","onShowDateNavUpdate","setAttributes","onShowEmptyDatesUpdate","ProductsState","setProducts","setProductsRequesting","setProductsError","include","per_page","_locale","_products","productsObj","reduce","transformProductsListToObject","content","locals","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","propFullName","secret","err","getShim","ReactPropTypes","array","symbol","any","arrayOf","element","elementType","instanceOf","objectOf","oneOf","oneOfType","exact","checkPropTypes","Array","isArray","_arr","_d","_e","_s","iterator","next","done","_typeof2","_setPrototypeOf","arr2","iter","toString","from","ScheduleState","onTimeRangeUpdate","bookingsContainersHTML","getElementsByClassName","bookingsContainerHTML","dataset","render"],"mappings":"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","file":"js/bookings-schedule-frontend.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 85);\n","(function() { module.exports = this[\"wp\"][\"element\"]; }());","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"moment\"]; }());","/**\n * Date constants and utility functions.\n *\n * @author WooCommerce\n * @since  1.0.0\n */\n\n/**\n * External dependencies\n */\nimport moment from 'moment';\nimport 'moment-timezone';\nimport { sprintf, __, _n } from '@wordpress/i18n';\n\n/**\n * Options for what range of dates to display on event list.\n *\n * @since 1.0.0\n */\nexport const DATE_RANGES = {\n\tTODAY: 'today',\n\tTHIS_WEEK: 'this-week',\n\tTHIS_MONTH: 'this-month',\n\tCUSTOM: 'custom',\n};\n\n/**\n * Convert directions\n *\n * @since 1.0.0\n */\nexport const CONVERT_DIRECTIONS = {\n\tLOCAL_TO_SERVER: 'LOCAL_TO_SERVER',\n\tSERVER_TO_LOCAL: 'SERVER_TO_LOCAL',\n};\n\n/**\n * Date range labels.\n *\n * @since 1.0.0\n */\nexport const DATE_RANGE_TYPE_LABELS = {\n\tTODAY: __( 'Today', 'woocommerce-bookings-availability' ),\n\tTHIS_WEEK: __( 'This week', 'woocommerce-bookings-availability' ),\n\tTHIS_MONTH: __( 'This month', 'woocommerce-bookings-availability' ),\n};\n\n/**\n * Option labels for each date range type.\n *\n * @since 1.0.0\n */\nexport const DATE_RANGE_OPTIONS = [\n\t{ value: DATE_RANGES.TODAY, label: DATE_RANGE_TYPE_LABELS.TODAY },\n\t{ value: DATE_RANGES.THIS_WEEK, label: DATE_RANGE_TYPE_LABELS.THIS_WEEK },\n\t{ value: DATE_RANGES.THIS_MONTH, label: DATE_RANGE_TYPE_LABELS.THIS_MONTH },\n];\n\n/**\n * Option labels for each date range type for calendar.\n *\n * @since 1.0.0\n */\nexport const DATE_RANGE_OPTIONS_CAL = [\n\t{ value: DATE_RANGES.THIS_WEEK, label: DATE_RANGE_TYPE_LABELS.THIS_WEEK },\n\t{ value: DATE_RANGES.THIS_MONTH, label: DATE_RANGE_TYPE_LABELS.THIS_MONTH },\n];\n\n/**\n * String format for date query.\n */\nexport const DATE_QUERY_FORMAT = 'YYYY-MM-DD[T]HH:mm:ss';\n\n/**\n * Find the date min and max for a given date range type.\n *\n * Calculates the date min/max relative to the current day when necessary.\n * For week range, will start from the startOfWeek day and calculate onwards.\n *\n * @since 1.0.0\n *\n * @param {string} dateRangeType    String value for a date range (from DATE_RANGE array).\n * @param {int}    [intervalOffset] Optional offset for the date range.\n * @param {int}    currentDate \t\tValue to denote if there is a current date to use.\n *\n * @return {Object} minDate and maxDate Date objects\n */\nexport function getDateLimits( dateRangeType, intervalOffset = 0, currentDate = 1 ) {\n\tlet minDate = moment().startOf( 'day' ).toDate();\n\tlet maxDate = moment().startOf( 'day' ).toDate();\n\tlet intervalDays = 1;\n\n\tif ( DATE_RANGES.THIS_MONTH === dateRangeType ) {\n\t\tminDate = moment( minDate ).add( intervalOffset, 'months' ).toDate();\n\t\tminDate.setDate( currentDate );\n\t\tmaxDate = moment( minDate ).endOf( 'month' ).toDate();\n\t}\n\n\tlet minDisplayDate = minDate;\n\n\tif ( DATE_RANGES.THIS_WEEK === dateRangeType ) {\n\t\tintervalDays = 7;\n\t\tconst startOfWeek = parseInt( wc_bookings_availability_args.start_of_week, 10 );\n\t\tconst _minDate = moment().day( ( intervalDays * intervalOffset ) + startOfWeek ).startOf( 'day' );\n\t\tif ( minDate < _minDate ) {\n\t\t\tminDate = _minDate.toDate();\n\t\t}\n\t\tmaxDate = moment( minDate ).endOf( 'week' ).toDate();\n\t\tminDisplayDate = moment( minDate ).startOf( 'week' ).toDate();\n\t}\n\n\tif ( DATE_RANGES.TODAY === dateRangeType ) {\n\t\tconst startDayOffset = intervalDays * intervalOffset;\n\t\tconst endDayOffset = ( intervalDays * ( intervalOffset + 1 ) ) - 1;\n\t\tminDate.setDate( minDate.getDate() + startDayOffset );\n\t\tmaxDate.setDate( maxDate.getDate() + endDayOffset );\n\t}\n\n\treturn {\n\t\tminDisplayDate,\n\t\tminDate,\n\t\tmaxDate,\n\t};\n}\n\n/**\n * Add time if the date is today.\n *\n * The date can then be used to provide more detailed availability when calling the API.\n *\n * @since import moment from 'moment';\n *\n * @param {Date}  minDate Date.\n *\n * @return {Date} minDate with current time if it is today.\n */\nexport function addTimeIfToday( minDate ) {\n\tif ( minDate && moment( minDate ).isSame( moment(), 'day' ) ) {\n\t\treturn moment().format( DATE_QUERY_FORMAT );\n\t}\n\n\treturn minDate;\n}\n\n/**\n * Check if date is a custom type or not.\n *\n * @since 1.0.0\n *\n * @param {string} dateRangeType String value for a date range (from DATE_RANGE array).\n *\n * @return {boolean} True if using a custom date range.\n */\nexport function isCustom( dateRangeType ) {\n\treturn DATE_RANGES.CUSTOM === dateRangeType;\n}\n\n/**\n * Get date range as a human readable string.\n *\n * @since 1.0.0\n *\n * @param {string} dateRangeType    String value for a date range (from DATE_RANGE array).\n * @param {int}    [intervalOffset] Optional offset for the date range.\n *\n * @return {String} Human readable string representing the date range.\n */\nexport function getReadableDateRangeString( dateRangeType, intervalOffset = 0 ) {\n\tconst { minDisplayDate, minDate, maxDate } = getDateLimits( dateRangeType, intervalOffset );\n\n\tif ( DATE_RANGES.THIS_MONTH === dateRangeType ) {\n\t\treturn moment( minDate ).format( 'MMMM YYYY' );\n\t}\n\n\tif ( minDate.getTime() === maxDate.getTime() ) {\n\t\treturn moment( minDate ).format( 'MMM DD, YYYY' );\n\t}\n\n\treturn moment( minDisplayDate ).format( 'MMM DD - ' ) + moment( maxDate ).format( 'MMM DD, YYYY' );\n}\n\n/**\n * Get date range type as header navigation title.\n *\n * @since 1.0.0\n *\n * @param {string} dateRangeType String value for a date range (from DATE_RANGE array).\n *\n * @return {String} Human readable string representing the date range type.\n */\nexport function getDateRangeTypeString( dateRangeType ) {\n\tswitch ( dateRangeType ) {\n\t\tcase DATE_RANGES.TODAY:\n\t\t\treturn DATE_RANGE_TYPE_LABELS.TODAY;\n\t\tcase DATE_RANGES.THIS_MONTH:\n\t\t\treturn DATE_RANGE_TYPE_LABELS.THIS_MONTH;\n\t\tcase DATE_RANGES.THIS_WEEK:\n\t\tdefault:\n\t\t\treturn DATE_RANGE_TYPE_LABELS.THIS_WEEK;\n\t}\n}\n\n/**\n * Get date range as a min/max in 'YYYY-MM-DD' format.\n *\n * @since 1.0.0\n *\n * @param {string} dateRangeType    String value for a date range (from DATE_RANGE array).\n * @param {int}    [intervalOffset] Optional offset for the date range.\n * @param {int}    [currentDate]    Optional current date.\n *\n * @return {Object} minDate and maxDate in 'YYYY-MM-DD' format.\n */\nexport function getDateQueryLimits( dateRangeType, intervalOffset = 0, currentDate = 1 ) {\n\tconst { minDate, maxDate } = getDateLimits( dateRangeType, intervalOffset, currentDate );\n\n\treturn formatDateQueryLimits( minDate, maxDate );\n}\n\n/**\n * Format dates according to date query format.\n *\n * @param {object} minDate          Min date\n * @param {object} maxDate          Max date\n *\n * @return {Object} minDate and maxDate in DATE_QUERY_FORMAT format.\n */\nexport function formatDateQueryLimits( minDate, maxDate ) {\n\treturn {\n\t\tminDate: moment( minDate ).format( DATE_QUERY_FORMAT ),\n\t\tmaxDate: moment( maxDate ).endOf( 'day' ).format( DATE_QUERY_FORMAT ),\n\t};\n}\n\n/**\n *  Gets the day of the week.\n *\n * @since 1.0.0\n *\n * @param {int} day The selected start of week.\n *\n * @return {string} The processed day.\n */\nexport function getDayOfWeek( day ) {\n\treturn moment().day( day ).format( 'ddd' );\n}\n\n/**\n *  Gets the calendar month view start time.\n *\n * @since 1.0.0\n * @param {string} dateRangeType  String value for a date range (from DATE_RANGE array).\n * @param {int}    intervalOffset Optional offset for the date range.\n * @return {object} { minDate, maxDate }.\n */\nexport function getCalStartEndTime( dateRangeType, intervalOffset ) {\n\tswitch ( dateRangeType ) {\n\t\tcase DATE_RANGES.THIS_WEEK:\n\t\t\treturn calendarWeekStartEndTime( intervalOffset );\n\n\t\tcase DATE_RANGES.THIS_MONTH:\n\t\tdefault:\n\t\t\treturn calendarMonthStartEndTime( intervalOffset );\n\t}\n}\n\nfunction calendarWeekStartEndTime( intervalOffset ) {\n\tconst today = moment( new Date() ).add( intervalOffset * 7, 'day' );\n\tconst todayDay = today.isoWeekday();\n\n\tconst wpStartOfWeek = parseInt( wc_bookings_availability_args.start_of_week, 10 );\n\t// Change WP format to ISO. ISO 1..7, 1=Monday vs. WordPress 0..7, 0=Sunday.\n\tconst startOfWeek = wpStartOfWeek === 0 ? 7 : wpStartOfWeek;\n\n\tlet weekStart = null;\n\tif ( todayDay > startOfWeek ) {\n\t\tweekStart = moment( today ).subtract( todayDay - startOfWeek, 'day' );\n\t} else if ( todayDay < startOfWeek ) {\n\t\tweekStart = moment( today ).subtract( 7 - ( startOfWeek - todayDay ), 'day' );\n\t} else {\n\t\tweekStart = today;\n\t}\n\n\tconst weekEnd = moment( weekStart ).add( 6, 'day' );\n\n\treturn {\n\t\tminDate: weekStart.startOf( 'day' ),\n\t\tmaxDate: weekEnd.endOf( 'day' ),\n\t};\n}\n\nfunction calendarMonthStartEndTime( intervalOffset ) {\n\tconst date = moment( new Date() ).add( intervalOffset, 'month' );\n\n\tconst wpStartOfWeek = parseInt( wc_bookings_availability_args.start_of_week, 10 );\n\t// Change WP format to ISO. ISO 1..7, 1=Monday vs. WordPress 0..7, 0=Sunday.\n\tconst startOfWeek = wpStartOfWeek === 0 ? 7 : wpStartOfWeek;\n\tconst monthStart = date.startOf( 'month' );\n\tconst monthStartOfWeekDay = monthStart.isoWeekday();\n\t/*\n\t * Calculate column where the month start will be placed.\n\t * This calculates true modulo ( never negative ).\n\t */\n\tconst startColumn = ( 7 + ( ( monthStartOfWeekDay - startOfWeek ) % 7 ) ) % 7;\n\t/*\n\t * Calculate start time: how many days from the previous month we need to include,\n\t * in order to have calendar without empty days in the first row.\n\t */\n\tconst startTime = moment( monthStart ).subtract( startColumn, 'day' );\n\n\tconst monthEnd = date.endOf( 'month' );\n\tconst monthEndOfWeekDay = monthEnd.isoWeekday();\n\tconst endColumn = ( 7 + ( ( monthEndOfWeekDay - startOfWeek ) % 7 ) ) % 7;\n\t/*\n\t * Calculate end date: how many days from the next month we need to include.\n\t * We want to have calendar without empty days in the last row.\n\t */\n\tconst endTime = moment( monthEnd ).add( 6 - endColumn, 'day' );\n\n\treturn {\n\t\tminDate: startTime.startOf( 'day' ),\n\t\tmaxDate: endTime.endOf( 'day' ),\n\t\tcurrentMonth: date,\n\t};\n}\n\n/*\n * Get date as humanreadable string.\n *\n * @since 1.0.0\n *\n * @param {string} date    String value for a date.\n *\n * @return {string} date in 'dddd, MMMM DD' format.\n */\nexport function getHumanReadableDate( date ) {\n\tconst dateFormat = 'dddd, MMMM DD';\n\n\treturn moment( date ).format( dateFormat );\n}\n\n/**\n * Formats a time duration.\n *\n * @since 1.0.0\n *\n * @param {object}    product Product information.\n * @param {timestamp} date    Date the duration starts from.\n *\n * @return {string} The formatted duration.\n */\nexport function formatDuration( product, date ) {\n\tconst { duration, durationUnit } = product;\n\tconst startDate = moment( date );\n\tconst startDateDay = startDate.format( 'Do' );\n\tconst startDateMonth = startDate.format( 'MMMM' );\n\tconst timeFormat = wc_bookings_availability_args.time_format_moment;\n\tlet endDate;\n\n\tlet formattedDuration, durationPeriodSeparator;\n\tswitch ( durationUnit ) {\n\t\tcase 'minute':\n\t\t\tendDate = moment( date ).add( duration, durationUnit );\n\t\t\tformattedDuration = `${ startDate.format( timeFormat ) }-${ endDate.format( timeFormat ) } (${ getDisplayTimezone( date ) })`;\n\t\t\tbreak;\n\t\tcase 'hour':\n\t\t\tendDate = moment( date ).add( duration, durationUnit );\n\t\t\tdurationPeriodSeparator = __( ' to ', 'woocommerce-bookings-availability' );\n\t\t\tformattedDuration = `${ startDate.format( timeFormat ) } ${ durationPeriodSeparator } ${ endDate.format( timeFormat ) } (${ getDisplayTimezone( date ) })`;\n\t\t\tbreak;\n\t\t// 'night' is just a synonym of the 'day' duration for accommodation bookings.\n\t\tcase 'night':\n\t\tcase 'day':\n\t\t\tendDate = moment( date ).add( duration - 1, durationUnit );\n\t\t\tlet endDateDay = endDate.format( 'Do' );\n\t\t\tlet endDateMonth = endDate.format( 'MMMM' );\n\n\t\t\t// Assume it's of fixed duration\n\t\t\tlet days = sprintf( _n( `%d ${ durationUnit }`, `%d ${ durationUnit }s`, duration * product.min_duration, 'woocommerce-bookings-availability' ), duration * product.min_duration );\n\t\t\tif ( 'customer' === product.duration_type && product.min_duration !== product.max_duration ) {\n\t\t\t\tdays = sprintf( __( `%d-%d ${ durationUnit }s`, 'woocommerce-bookings-availability' ), duration * product.min_duration, duration * product.max_duration );\n\t\t\t\tformattedDuration = `${ days }`;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif ( startDateMonth !== endDateMonth ) {\n\t\t\t\tendDateMonth = `${ endDateMonth } `;\n\t\t\t} else {\n\t\t\t\tendDateMonth = '';\n\t\t\t}\n\n\t\t\tdurationPeriodSeparator = '';\n\t\t\tswitch ( duration ) {\n\t\t\t\tcase 1:\n\t\t\t\t\tdurationPeriodSeparator = endDateMonth = endDateDay = '';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tdurationPeriodSeparator = __( ' and ', 'woocommerce-bookings-availability' );\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tdurationPeriodSeparator = ' - ';\n\t\t\t}\n\n\t\t\tformattedDuration = `${ days }, ${ startDateMonth } ${ startDateDay } ${ durationPeriodSeparator } ${ endDateMonth }${ endDateDay } `;\n\t\t\tbreak;\n\n\t\tcase 'month':\n\t\t\tendDate = moment( date ).add( duration, durationUnit );\n\t\t\t/* translators: %d number of month. */\n\t\t\tconst months = sprintf( _n( '%d month', '%d months', duration, 'woocommerce-bookings-availability' ), duration );\n\t\t\tconst startOfDuration = startDate.startOf( 'month' );\n\t\t\tconst endOfDuration = endDate.endOf( 'month' );\n\t\t\tif ( 1 === duration ) {\n\t\t\t\tformattedDuration = `${ months }, ${ startOfDuration.format( 'MMMM D' ) } - ${ endOfDuration.format( 'D' ) }`;\n\t\t\t} else {\n\t\t\t\tformattedDuration = `${ months }, ${ startOfDuration.format( 'MMMM D' ) } - ${ endOfDuration.format( 'MMMM D' ) }`;\n\t\t\t}\n\t}\n\n\treturn formattedDuration;\n}\n\n/**\n * Return friendly string indicating no slots exist for range type.\n *\n * @since 1.0.0\n *\n * @param {string} dateRangeType String value for a date range (from DATE_RANGE array).\n *\n * @return {string} String indicating no slots are available in the range.\n */\nexport function getNoSlotsInRangeMessage( dateRangeType ) {\n\tswitch ( dateRangeType ) {\n\t\tcase DATE_RANGES.THIS_WEEK:\n\t\t\treturn __( 'No available times this week.', 'woocommerce-bookings-availability' );\n\t\tcase DATE_RANGES.THIS_MONTH:\n\t\t\treturn __( 'No available times this month.', 'woocommerce-bookings-availability' );\n\t\tcase DATE_RANGES.TODAY:\n\t\tdefault:\n\t\t\treturn __( 'No available times this day.', 'woocommerce-bookings-availability' );\n\t}\n}\n\n/**\n * Return friendly string indicating an error occurred for range type.\n *\n * @since 1.0.0\n *\n * @param {string} dateRangeType String value for a date range (from DATE_RANGE array).\n *\n * @return {string} String indicating an error occurred loading slots in the range.\n */\nexport function getErrorLoadingSlotsInRangeMessage( dateRangeType ) {\n\tswitch ( dateRangeType ) {\n\t\tcase DATE_RANGES.THIS_WEEK:\n\t\t\treturn __( 'We weren\\'t able to load times for this week.', 'woocommerce-bookings-availability' );\n\t\tcase DATE_RANGES.THIS_MONTH:\n\t\t\treturn __( 'We weren\\'t able to load times for this month.', 'woocommerce-bookings-availability' );\n\t\tcase DATE_RANGES.TODAY:\n\t\tdefault:\n\t\t\treturn __( 'We weren\\'t able to load times for this day.', 'woocommerce-bookings-availability' );\n\t}\n}\n\n/**\n * Convert client/server dates.\n *\n * @param {date}    date Date to convert.\n * @param {string}  convertDirection Direction of conversion (from CONVERT_DIRECTIONS array).\n *\n * @return {object} The converted date object.\n */\nexport function convertDate( date, convertDirection ) {\n\tconst offsetHours = getClientServerTimezoneOffsetHours( date );\n\tconst localizedDate = moment.tz( date, DATE_QUERY_FORMAT, wc_bookings_availability_args.server_timezone );\n\n\tswitch ( convertDirection ) {\n\t\tcase CONVERT_DIRECTIONS.SERVER_TO_LOCAL:\n\t\t\tlocalizedDate.add( offsetHours, 'hours' );\n\t\t\tbreak;\n\t\tcase CONVERT_DIRECTIONS.LOCAL_TO_SERVER:\n\t\t\tlocalizedDate.subtract( offsetHours, 'hours' );\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow 'Invalid convertDirection option.';\n\t}\n\n\treturn localizedDate;\n}\n\n/**\n * Localize client/server date based on Bookings timezone settings.\n *\n * @param {date}    date Date to convert.\n * @param {string}  convertDirection Direction of conversion (from CONVERT_DIRECTIONS array).\n *\n * @return {string} The converted date in 'YYYY-MM_DDTHH:mm:ss' format.\n */\nexport function localizeDate( date, convertDirection ) {\n\tif ( ! wc_bookings_availability_args.timezone_conversion ) {\n\t\treturn date;\n\t}\n\n\tconst convertedDate = convertDate( date, convertDirection );\n\treturn convertedDate.format( DATE_QUERY_FORMAT );\n}\n\n/**\n * Returns the hour offset between the client and the server based on Bookings timezone settings.\n *\n * @param {string} referenceDate date string in DATE_QUERY_FORMAT to use as time to calculate the timezone difference at.\n *\n * @return {number} Number of hours between server and client.\n */\nfunction getClientServerTimezoneOffsetHours( referenceDate ) {\n\tif ( ! wc_bookings_availability_args.timezone_conversion ) {\n\t\treturn 0;\n\t}\n\n\tconst referenceTime = moment( referenceDate, DATE_QUERY_FORMAT );\n\tconst clientOffset = referenceTime.utcOffset();\n\treferenceTime.tz( wc_bookings_availability_args.server_timezone );\n\tconst serverOffset = referenceTime.utcOffset();\n\n\treturn ( clientOffset - serverOffset ) / 60.0;\n}\n\n/**\n * Returns the current timezone abbreviation based on Bookings\n * settings and the client timezone.\n *\n * @param {string} referenceDate date string in DATE_QUERY_FORMAT to use as time to calculate the timezone at.\n *\n * @return {string} Timezone abbreviation string.\n */\nexport function getDisplayTimezone( referenceDate ) {\n\tif ( ! wc_bookings_availability_args.timezone_conversion ) {\n\t\t// Use server's timezone.\n\t\treturn moment.tz( referenceDate, DATE_QUERY_FORMAT, wc_bookings_availability_args.server_timezone ).format( 'z' );\n\t}\n\t// Guess client's timezone.\n\treturn moment.tz( referenceDate, DATE_QUERY_FORMAT, moment.tz.guess() ).format( 'z' );\n}\n\n/**\n * Checks if a specific date is restricted.\n *\n * @since 1.1.7\n *\n * @param {timestamp} date    Date the duration starts from.\n * @param {object}    product Product information.\n *\n * @return {boolean} Is restricted or not.\n */\nexport function getIsRestrictedDay( date, product ) {\n\tif ( ! product.has_restricted_days || ! product.restricted_days ) {\n\t\treturn false;\n\t}\n\n\t// Days included in the list are available as start days.\n\tconst day_of_week = moment( date ).day();\n\tif ( undefined === product.restricted_days[ day_of_week ] ) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"lodash\"]; }());","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","/**\n * External dependencies\n */\nimport { Icon } from '@wordpress/components';\n\nexport default () => (\n\t<Icon\n\t\ticon={\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t>\n\t\t\t\t<path d=\"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z\" />\n\t\t\t\t<path fill=\"none\" d=\"M0 0h24v24H0z\" />\n\t\t\t</svg>\n\t\t}\n\t/>\n);\n","/**\n * External dependencies\n */\nimport { Icon } from '@wordpress/components';\n\nexport default () => (\n\t<Icon\n\t\ticon={\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t>\n\t\t\t\t<path d=\"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z\" />\n\t\t\t\t<path fill=\"none\" d=\"M0 0h24v24H0z\" />\n\t\t\t</svg>\n\t\t}\n\t/>\n);\n","/**\n * External dependencies\n */\nimport { Icon } from '@wordpress/components';\n\nexport default () => (\n\t<Icon\n\t\ticon={\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#1E8CBE\"\n\t\t\t\t\td=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n\t\t\t\t/>\n\t\t\t</svg>\n\t\t}\n\t/>\n);\n","/**\n * External dependencies\n */\nimport { Icon } from '@wordpress/components';\n\nexport default () => (\n\t<Icon\n\t\ticon={\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#6C7781\"\n\t\t\t\t\td=\"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n\t\t\t\t/>\n\t\t\t</svg>\n\t\t}\n\t/>\n);\n","/**\n * External dependencies\n */\nimport { Icon } from '@wordpress/components';\n\nexport default () => (\n\t<Icon\n\t\ticon={\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t>\n\t\t\t\t<path fill=\"#1E8CBE\" d=\"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\" />\n\t\t\t</svg>\n\t\t}\n\t/>\n);\n","/**\n * External dependencies\n */\nimport { Icon } from '@wordpress/components';\n\nexport default () => (\n\t<Icon\n\t\ticon={\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#6C7781\"\n\t\t\t\t\td=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n\t\t\t\t/>\n\t\t\t</svg>\n\t\t}\n\t/>\n);\n","/**\n * External dependencies\n */\nimport { Icon } from '@wordpress/components';\n\nexport default () => (\n\t<Icon\n\t\ticon={\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t>\n\t\t\t\t<path d=\"M22 12l-4-4v3H3v2h15v3z\" />\n\t\t\t\t<path d=\"M0 0h24v24H0z\" fill=\"none\" />\n\t\t\t</svg>\n\t\t}\n\t/>\n);\n","/**\n * External dependencies\n */\nimport { Icon } from '@wordpress/components';\n\nexport default () => (\n\t<Icon\n\t\ticon={\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t>\n\t\t\t\t<path d=\"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\" />\n\t\t\t\t<path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n\t\t\t</svg>\n\t\t}\n\t/>\n);\n","// Export each icon as a named component.\nexport { default as IconListAlt } from './list-alt';\nexport { default as IconCalendarAlt } from './calendar-alt';\nexport { default as IconCheckChecked } from './checkbox-checked';\nexport { default as IconCheckUnchecked } from './checkbox-unchecked';\nexport { default as IconRadioSelected } from './radio-selected';\nexport { default as IconRadioUnselected } from './radio-unselected';\nexport { default as IconTrendingFlat } from './trending-flat';\nexport { default as IconKeyboardArrowRight } from './keyboard-arrow-right';\n","/**\n * External dependencies.\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { DATE_RANGES } from './date-utils';\n\nexport const SCREEN = {\n\tALL_PRODUCTS: 'all-products',\n\tPRODUCTS_SCREEN: 'products-screen',\n\tCATEGORIES_SCREEN: 'categories-screen',\n\tRESOURCES_SCREEN: 'resources-screen',\n};\n\nexport const screenOptions = [\n\t{ value: SCREEN.ALL_PRODUCTS, label: __( 'All bookable products', 'woocommerce-bookings-availability' ) },\n\t{ value: SCREEN.PRODUCTS_SCREEN, label: __( 'Specific bookable products', 'woocommerce-bookings-availability' ) },\n\t{ value: SCREEN.CATEGORIES_SCREEN, label: __( 'Specific categories', 'woocommerce-bookings-availability' ) },\n\t{ value: SCREEN.RESOURCES_SCREEN, label: __( 'Specific resources', 'woocommerce-bookings-availability' ) },\n];\n\nexport const DEFAULT_PAGE_SIZE = 8;\n\n/*\n * Global list of all attributes for both blocks.\n * Attributes are organized into 'common', 'calendar',\n * and 'schedule' props. 'common' attributes\n * apply to both blocks while 'calendar' and 'schedule'\n * apply to the specific block types only.\n *\n */\nconst attributesDictionary = {\n\tcommon: {\n\t\tcategoryIds: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t\tsource: 'attribute',\n\t\t\tselector: '.wc-bookings-availability-main-container',\n\t\t\tattribute: 'data-category-ids',\n\t\t},\n\t\tcurrentScreen: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tproductIds: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t\tsource: 'attribute',\n\t\t\tselector: '.wc-bookings-availability-main-container',\n\t\t\tattribute: 'data-product-ids',\n\t\t},\n\t\tresourceIds: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t\tsource: 'attribute',\n\t\t\tselector: '.wc-bookings-availability-main-container',\n\t\t\tattribute: 'data-resource-ids',\n\t\t},\n\t\tshowDateNav: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t\tattribute: 'data-show-date-nav',\n\t\t},\n\t},\n\tcalendar: {\n\t\tdateRangeType: {\n\t\t\ttype: 'string',\n\t\t\tdefault: DATE_RANGES.THIS_MONTH,\n\t\t\tattribute: 'data-date-range-type',\n\t\t},\n\t\tshowSoldOut: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t\tattribute: 'data-show-sold-out',\n\t\t},\n\t\texample: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tschedule: {\n\t\tdateRangeType: {\n\t\t\ttype: 'string',\n\t\t\tdefault: DATE_RANGES.TODAY,\n\t\t\tattribute: 'data-date-range-type',\n\t\t},\n\t\tinfiniteScrollEnabled: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t\tattribute: 'data-infinite-scroll-enabled',\n\t\t},\n\t\tmaxDate: {\n\t\t\ttype: 'date',\n\t\t\tdefault: null,\n\t\t\tsource: 'attribute',\n\t\t\tselector: '.wc-bookings-availability-container',\n\t\t\tattribute: 'data-max-date',\n\t\t},\n\t\tminDate: {\n\t\t\ttype: 'date',\n\t\t\tdefault: null,\n\t\t\tsource: 'attribute',\n\t\t\tselector: '.wc-bookings-availability-container',\n\t\t\tattribute: 'data-min-date',\n\t\t},\n\t\tslotsPerPage: {\n\t\t\ttype: 'number',\n\t\t\tdefault: DEFAULT_PAGE_SIZE,\n\t\t\tattribute: 'data-slots-per-page',\n\t\t},\n\t\tshowEmptyDates: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t\tattribute: 'data-show-empty-dates',\n\t\t},\n\t},\n};\n\n/**\n * Get attribute definitions for the given block type name.\n *\n * @param {string} blockName Name of block to retrieve from (e.g. 'calendar' or 'schedule')\n *\n * @return {object} Attribute defintions for block.\n */\nexport function getAttributesDefFor( blockName ) {\n\t// Merge common attributes with the specific block attributes.\n\treturn { ...attributesDictionary.common, ...attributesDictionary[ blockName ] };\n}\n\n/**\n * Decode fontend data attributes for block props\n *\n * @param {string} blockName Name of block to retrieve from (e.g. 'calendar' or 'schedule')\n * @param {object} attributes Object data properties pulled directly from DOM.\n *\n * @return {string} Decoded attributes.\n */\nexport function decodeAttributesFor( blockName, attributes ) {\n\tconst attributesDef = getAttributesDefFor( blockName );\n\tconst decodedAttributes = {};\n\tfor ( const key of Object.keys( attributesDef ) ) {\n\t\tconst type = attributesDef[ key ].type;\n\t\t// Fill in missing values with defaults\n\t\tconst value = attributes.hasOwnProperty( key ) ? attributes[ key ] : attributesDef[ key ].default;\n\n\t\tswitch ( type ) {\n\t\t\tcase 'boolean':\n\t\t\t\tdecodedAttributes[ key ] = ( 'true' === value || true === value ) ? true : false;\n\t\t\t\tbreak;\n\t\t\tcase 'number':\n\t\t\t\tdecodedAttributes[ key ] = parseInt( value );\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tdecodedAttributes[ key ] = value;\n\t\t}\n\t}\n\treturn decodedAttributes;\n}\n","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","/**\n * External dependencies.\n */\nimport { createContext } from '@wordpress/element';\n\nexport default createContext( {} );\n","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","/**\n * External dependencies.\n */\nimport { createContext } from '@wordpress/element';\n\nexport default createContext( {} );\n","(function() { module.exports = this[\"wp\"][\"url\"]; }());","/**\n * External dependencies.\n */\nimport { createContext } from '@wordpress/element';\n\nexport default createContext( {} );\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","/**\n * External dependencies.\n */\nimport { createContext } from '@wordpress/element';\n\nexport default createContext( {} );\n","\"use strict\";\n\nvar stylesInDom = {};\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nfunction listToStyles(list, options) {\n  var styles = [];\n  var newStyles = {};\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var css = item[1];\n    var media = item[2];\n    var sourceMap = item[3];\n    var part = {\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    };\n\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = {\n        id: id,\n        parts: [part]\n      });\n    } else {\n      newStyles[id].parts.push(part);\n    }\n  }\n\n  return styles;\n}\n\nfunction addStylesToDom(styles, options) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i];\n    var domStyle = stylesInDom[item.id];\n    var j = 0;\n\n    if (domStyle) {\n      domStyle.refs++;\n\n      for (; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j]);\n      }\n\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j], options));\n      }\n    } else {\n      var parts = [];\n\n      for (; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j], options));\n      }\n\n      stylesInDom[item.id] = {\n        id: item.id,\n        refs: 1,\n        parts: parts\n      };\n    }\n  }\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n\n  if (typeof options.attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      options.attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(options.attributes).forEach(function (key) {\n    style.setAttribute(key, options.attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  options.attributes = typeof options.attributes === 'object' ? options.attributes : {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  var styles = listToStyles(list, options);\n  addStylesToDom(styles, options);\n  return function update(newList) {\n    var mayRemove = [];\n\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i];\n      var domStyle = stylesInDom[item.id];\n\n      if (domStyle) {\n        domStyle.refs--;\n        mayRemove.push(domStyle);\n      }\n    }\n\n    if (newList) {\n      var newStyles = listToStyles(newList, options);\n      addStylesToDom(newStyles, options);\n    }\n\n    for (var _i = 0; _i < mayRemove.length; _i++) {\n      var _domStyle = mayRemove[_i];\n\n      if (_domStyle.refs === 0) {\n        for (var j = 0; j < _domStyle.parts.length; j++) {\n          _domStyle.parts[j]();\n        }\n\n        delete stylesInDom[_domStyle.id];\n      }\n    }\n  };\n};","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","/**\n * External dependencies\n */\nimport { useContext } from '@wordpress/element';\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport EventTable from './index';\nimport '../../../js/blocks/bookings-schedule/style.scss';\nimport { IconTrendingFlat } from '../icons';\nimport { getReadableDateRangeString, getDateRangeTypeString } from '../../includes/date-utils';\nimport commonContext from '../../blocks/common-context/context';\nimport AvailabilityState from '../../blocks/availability-context/availability-state';\n\nconst BookingContainer = ( props ) => {\n\tconst {\n\t\toffset,\n\t\tgotoCurrent,\n\t\tgotoNext,\n\t\tgotoPrev,\n\t\tshowDateNav,\n\t\tshowEmptyDates,\n\t} = useContext( commonContext );\n\n\tconst onDummyClick = ( e ) => {\n\t\te.preventDefault();\n\t};\n\n\tconst { dateRangeType } = props;\n\n\tconst dateRangeString = getReadableDateRangeString( dateRangeType, offset );\n\tconst dateRangeTypeString = getDateRangeTypeString( dateRangeType );\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"wc-bookings-availability-header\">\n\t\t\t\t<div className=\"wc-bookings-availability-date\">\n\t\t\t\t\t{ dateRangeString }\n\t\t\t\t</div>\n\t\t\t\t{ ( true === showDateNav || 'true' === showDateNav ) ? (\n\t\t\t\t\t<div className=\"wc-bookings-availability-navigation\">\n\t\t\t\t\t\t{ /* eslint-disable jsx-a11y/anchor-is-valid */ }\n\t\t\t\t\t\t{ ( offset <= 0 ) ? // disable past days/weeks/months.\n\t\t\t\t\t\t\t<a href=\"#\" className=\"wc-bookings-availability-navigation-prev wc-bookings-availability-navigation-disabled\" onClick={ onDummyClick }>\n\t\t\t\t\t\t\t\t{ <IconTrendingFlat /> }\n\t\t\t\t\t\t\t</a> :\n\t\t\t\t\t\t\t<a href=\"#\" className=\"wc-bookings-availability-navigation-prev\" onClick={ gotoPrev }> { <IconTrendingFlat /> } </a>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<a href=\"#\" className=\"wc-bookings-availability-navigation-current\" onClick={ gotoCurrent }>{ dateRangeTypeString }</a>\n\t\t\t\t\t\t<a href=\"#\" className=\"wc-bookings-availability-navigation-next\" onClick={ gotoNext }>{ <IconTrendingFlat /> }</a>\n\t\t\t\t\t\t{ /* eslint-enable jsx-a11y/anchor-is-valid */ }\n\t\t\t\t\t</div>\n\t\t\t\t) : ( '' ) }\n\t\t\t</div>\n\t\t\t<AvailabilityState { ...props }>\n\t\t\t\t<EventTable { ...props } showEmptyDates={ showEmptyDates } />\n\t\t\t</AvailabilityState>\n\t\t</div>\n\t);\n};\n\nBookingContainer.propTypes = {\n\tdateRangeType: PropTypes.string,\n\n\tshowDateNav: PropTypes.bool,\n};\n\nexport default BookingContainer;\n","/**\n * External dependencies.\n */\nimport { createContext } from '@wordpress/element';\n\nexport default createContext( {} );\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * External dependencies.\n */\nimport { useState } from '@wordpress/element';\nimport { addQueryArgs } from '@wordpress/url';\nimport apiFetch from '@wordpress/api-fetch';\nimport { pickBy, identity, get, omit, merge, has } from 'lodash';\nimport { localizeDate, CONVERT_DIRECTIONS, addTimeIfToday } from '../../includes/date-utils';\nimport { DEFAULT_PAGE_SIZE } from '../../includes/misc-utils';\n\n/**\n * Internal dependencies.\n */\nimport AvailabilityContext from './context';\n\n/**\n * Returns a string representation of a sorted query object.\n *\n * @param {Object} query Current state\n * @return {String}       Query Key\n */\nconst getJsonString = ( query = {} ) => {\n\treturn JSON.stringify( query, Object.keys( query ).sort() );\n};\n\nconst DEFAULT_PAGE = \"default\";\n\n/**\n * Returns a string representation of the availability query argument.\n *\n * @param {Object} query Current state\n * @return {String}       Query Key\n */\nconst serializeQueryArgs = ( query = {} ) => {\n\treturn getJsonString( omit( query, [ 'page' ] ) );\n};\n\n/*\n * Generate list of days in query range with unavailable days removed.\n */\nconst processAvailability = ( availabilityData ) => {\n\tconst mapper = ( src ) => {\n\t\tsrc.productId = src.product_id;\n\t\tsrc.durationUnit = src.duration_unit;\n\t\tdelete src.product_id;\n\t\tdelete src.duration_unit;\n\t\tsrc.serverDate = src.date;\n\t\tsrc.date = localizeDate( src.date, CONVERT_DIRECTIONS.SERVER_TO_LOCAL );\n\t\treturn src;\n\t};\n\n\treturn availabilityData.map( mapper );\n};\n\nconst AvailabilityState = ( props ) => {\n\tconst [ availability, setAvailability ] = useState( [] );\n\tconst [ availabilityRequesting, setAvailabilityRequesting ] = useState( false );\n\tconst [ availabilityError, setAvailabilityError ] = useState( false );\n\n\tconst requestAvailability = ( query ) => {\n\t\tconst {\n\t\t\tminDate,\n\t\t\tmaxDate,\n\t\t\tpage,\n\t\t\tproductIds,\n\t\t\tcategoryIds,\n\t\t\tresourceIds,\n\t\t\tgetPastTimes,\n\t\t\tpageSize = DEFAULT_PAGE_SIZE,\n\t\t\tshowSoldOut,\n\t\t} = query;\n\n\t\tconst queryArgs = {\n\t\t\tproduct_ids: productIds,\n\t\t\tcategory_ids: categoryIds,\n\t\t\tresource_ids: resourceIds,\n\t\t\tmin_date: minDate ? encodeURIComponent( localizeDate( addTimeIfToday( minDate ), CONVERT_DIRECTIONS.LOCAL_TO_SERVER ) ) : minDate,\n\t\t\tmax_date: maxDate ? encodeURIComponent( localizeDate( maxDate, CONVERT_DIRECTIONS.LOCAL_TO_SERVER ) ) : maxDate,\n\t\t\tpage: page,\n\t\t\tlimit: pageSize,\n\t\t\tget_past_times: ( getPastTimes === false ) ? false : true,\n\t\t\thide_unavailable: ! showSoldOut,\n\t\t};\n\n\t\tconst path = addQueryArgs(\n\t\t\t'/wc-bookings/v1/products/slots',\n\t\t\tpickBy( queryArgs, identity )\n\t\t);\n\n\t\tconst storeAvailability = ( requestedAvailability, count, _query ) => {\n\t\t\tif ( requestAvailability.length === 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst queryKey = serializeQueryArgs( _query );\n\t\t\tconst newPage = _query.page === undefined ? DEFAULT_PAGE : _query.page;\n\n\t\t\t// Copy availability to update object reference.\n\t\t\tconst newAvailability = merge( {}, availability );\n\n\t\t\t// Check if we have the key. Add placeholder if not.\n\t\t\tif ( ! has( newAvailability, queryKey ) ) {\n\t\t\t\tnewAvailability[ queryKey ] = {\n\t\t\t\t\tcount,\n\t\t\t\t\tpages: {},\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Add new page.\n\t\t\tnewAvailability[ queryKey ].pages[ newPage ] = requestedAvailability;\n\n\t\t\t// Store updated availability ( old + new ).\n\t\t\tsetAvailability( newAvailability );\n\t\t};\n\n\t\tsetAvailabilityRequesting( true );\n\t\tapiFetch( { path } ).then(\n\t\t\t( { records, count } ) => {\n\t\t\t\tconst newAvailability = processAvailability( records );\n\t\t\t\tstoreAvailability( newAvailability, count, query );\n\t\t\t\tsetAvailabilityError( false );\n\t\t\t\tsetAvailabilityRequesting( false );\n\t\t\t},\n\t\t\t( error ) => {\n\t\t\t\tsetAvailabilityError( error );\n\t\t\t\tsetAvailabilityRequesting( false );\n\t\t\t}\n\t\t);\n\t};\n\n\tconst getAvailability = ( query ) => {\n\t\tconst data = get( availability, [ serializeQueryArgs( query ) ], false );\n\t\tif ( data === false ) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst records = [];\n\t\tconst pages = Object.keys( data.pages ).sort();\n\n\t\t// Merge pages.\n\t\tpages.map( ( page ) => {\n\t\t\trecords.push( ...data.pages[ page ] );\n\t\t} );\n\n\t\treturn records;\n\t};\n\n\tconst getAvailabilityTotalRecords = ( query ) => {\n\t\treturn get( availability, [ serializeQueryArgs( query ), 'count' ], 0 );\n\t};\n\n\tconst getRemainingRecordsCount = ( query ) => {\n\t\tconst recordsCount = getAvailability( query ).length;\n\t\tconst totalRecordsCount = getAvailabilityTotalRecords( query );\n\t\treturn totalRecordsCount - recordsCount;\n\t};\n\n\tconst getAvailabilityCount = ( query ) => {\n\t\treturn getAvailability( query ).length;\n\t};\n\n\tconst hasResultsForQuery = ( query ) => {\n\t\tconst page = query.page === undefined ? DEFAULT_PAGE : query.page ;\n\t\treturn get( availability, [ serializeQueryArgs( query ), 'pages', page ], false ) === false ? false : true;\n\t};\n\n\tconst highestPageForQuery = ( query ) => {\n\t\tconst data = get( availability, [ serializeQueryArgs( query ) ], false );\n\n\t\tif ( data === false ) {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn Math.max( ...Object.keys( data.pages ) );\n\t};\n\n\treturn (\n\t\t<AvailabilityContext.Provider value={ {\n\t\t\thasResultsForQuery,\n\t\t\tavailabilityRequesting,\n\t\t\tgetAvailability,\n\t\t\tgetAvailabilityCount,\n\t\t\tgetRemainingRecordsCount,\n\t\t\trequestAvailability,\n\t\t\tavailabilityError,\n\t\t\thighestPageForQuery,\n\t\t} }\n\t\t>\n\t\t\t{ props.children }\n\t\t</AvailabilityContext.Provider>\n\t);\n};\n\nAvailabilityState.propTypes = {\n\tchildren: PropTypes.object,\n};\n\nexport default AvailabilityState;\n","/**\n * External dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { PropTypes } from 'prop-types';\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Internal dependencies\n */\nimport { formatDuration, getHumanReadableDate } from '../../includes/date-utils';\n\nconst EventItem = ( props ) => {\n\tconst [ available, setAvailable ] = useState( true );\n\tconst [ loading, setLoading ] = useState( false );\n\n\tconst onClickBook = () => {\n\t\tconst { serverDate, productId, available: availableData } = props.data;\n\t\tconst { product, product: { permalink } } = props;\n\t\tconst isAvailable = availableData && available;\n\t\tconst isBookable = isAvailable && ( ! ( product.has_persons || product.has_resources || 'customer' === product.duration_type ) );\n\n\t\tsetLoading( true );\n\n\t\tif ( ! isBookable ) {\n\t\t\twindow.location.href = permalink;\n\t\t\treturn;\n\t\t}\n\n\t\tapiFetch( {\n\t\t\turl: wc_bookings_availability_args.ajax_url + '=wc_bookings_add_booking_to_cart' + '&product_id=' + productId + '&date=' + encodeURIComponent( serverDate ) + '&security=' + wc_bookings_availability_args.nonces.add_booking_to_cart,\n\t\t} )\n\t\t\t.then( ( data ) => {\n\t\t\t\tif ( data.booked ) {\n\t\t\t\t\twindow.location.href = wc_bookings_availability_args.checkout_url;\n\t\t\t\t} else {\n\t\t\t\t\twindow.location.href = data.link;\n\t\t\t\t}\n\t\t\t} );\n\t};\n\n\tconst { isPreview, addSubheader, product } = props;\n\tconst { name } = product;\n\tconst { date, placeholder, available: availableData } = props.data;\n\tconst priceHtml = product.price_html;\n\tconst isAvailable = availableData && available;\n\tlet listClassName = 'wc-bookings-availability-item';\n\n\tif ( placeholder ) {\n\t\tlistClassName += ' wc-bookings-availability-item-is-placeholder';\n\t}\n\n\tlet buttonText = ( product.has_persons || product.has_resources || 'customer' === product.duration_type ) ? __( 'Select options', 'woocommerce-bookings-availability' ) : __( 'Book now', 'woocommerce-bookings-availability' );\n\n\tlet buttonClassName = 'wp-block-button__link wc-bookings-availability-book-button';\n\n\tif ( ! isAvailable ) {\n\t\tbuttonText = __( 'Sold out', 'woocommerce-bookings-availability' );\n\t\tbuttonClassName += ' wc-bookings-availability-item-sold-out';\n\t}\n\n\treturn (\n\t\t<li className={ listClassName } >\n\t\t\t{ addSubheader &&\n\t\t\t\t<div className=\"wc-bookings-availability-item-subheader\">\n\t\t\t\t\t<span>{ getHumanReadableDate( date ) }</span>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t<div className=\"wc-bookings-availability-item-body\">\n\t\t\t\t<div className=\"wc-bookings-availability-item-information\" >\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t<a href={ product.permalink }>{ name }</a>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<div><span>{ formatDuration( product, date ) }</span></div>\n\t\t\t\t\t\t<div className=\"wc-bookings-availability-item-price\" dangerouslySetInnerHTML={ { __html: priceHtml } } />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"wp-block-button\">\n\t\t\t\t\t{ ( isPreview || ! available ) ? (\n\t\t\t\t\t\t<span className={ buttonClassName }>\n\t\t\t\t\t\t\t{ buttonText }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<button onClick={ onClickBook } disabled={ loading } className={ buttonClassName }>\n\t\t\t\t\t\t\t{ buttonText }\n\t\t\t\t\t\t</button>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t);\n};\n\nEventItem.propTypes = {\n\t/**\n\t * Availability data from wc_bookings_find_booking_slots ajax endpoint.\n\t */\n\tdata: PropTypes.shape( {\n\t\tbooked: PropTypes.number,\n\t\tavailable: PropTypes.number,\n\t\tresources: PropTypes.object,\n\t\tproductId: PropTypes.number,\n\t\ttitle: PropTypes.string,\n\t\tdate: PropTypes.date,\n\t\tserverDate: PropTypes.string,\n\t\tplaceholder: PropTypes.bool,\n\t\tduration: PropTypes.number,\n\t\tdurationUnit: PropTypes.string,\n\t} ).isRequired,\n\t/**\n\t * Sets up component for in-editor preview if true.\n\t */\n\tisPreview: PropTypes.bool,\n\taddSubheader: PropTypes.bool,\n\tproduct: PropTypes.object.isRequired,\n};\n\nEventItem.defaultProps = {\n\taddSubheader: false,\n};\n\nexport default EventItem;\n","import { getHumanReadableDate, getNoSlotsInRangeMessage } from '../../includes/date-utils';\nimport { PropTypes } from 'prop-types';\n\nconst EmptyEventItem = ( props ) => {\n\tconst { date } = props;\n\n\treturn (\n\t\t<li className=\"wc-bookings-availability-item\">\n\t\t\t<div className=\"wc-bookings-availability-item-subheader\">\n\t\t\t\t<span>{ getHumanReadableDate( date ) } </span>\n\t\t\t</div>\n\t\t\t<div className=\"wc-bookings-availability-item-body\">\n\t\t\t\t<div className=\"wc-bookings-availability-item-empty\">\n\t\t\t\t\t{ getNoSlotsInRangeMessage( 'today' ) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t);\n};\n\nexport default EmptyEventItem;\n\nEmptyEventItem.propTypes = {\n\tdate: PropTypes.object,\n};\n","/**\n * External dependencies\n */\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { Component, createRef } from '@wordpress/element';\nimport { PropTypes } from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nclass PageLoader extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.onScroll = this.onScroll.bind( this );\n\t\tthis.scrollTriggerRef = createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener( 'scroll', this.onScroll, true );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( ( true === prevProps.isLoading ) && ( false === this.props.isLoading ) ) {\n\t\t\t// Check if we should ask for the next page. Reuse onScroll utility function.\n\t\t\tthis.onScroll();\n\t\t}\n\t\tif ( ( false === prevProps.infiniteScrollEnabled ) && ( true === this.props.infiniteScrollEnabled ) ) {\n\t\t\t// Merchant has enabled inf scroll. Check if we should load more data.\n\t\t\tthis.onScroll();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener( 'scroll', this.onScroll, true );\n\t}\n\n\tonScroll() {\n\t\tconst { isLoading, loadMore } = this.props;\n\n\t\tif ( ! isLoading && this.scrollTriggerIsInViewport() ) {\n\t\t\tloadMore();\n\t\t}\n\t}\n\n\t/*\n\t * Determine if scroll trigger div is currently scrolled into viewport.\n\t */\n\tscrollTriggerIsInViewport() {\n\t\tconst scrollTrigger = this.scrollTriggerRef.current;\n\t\tif ( null === scrollTrigger ) {\n\t\t\treturn false;\n\t\t}\n\t\tconst top = scrollTrigger.getBoundingClientRect().top;\n\t\treturn top >= 0 && top <= window.innerHeight;\n\t}\n\n\tloadMoreClick = ( e ) => {\n\t\te.preventDefault();\n\t\tconst { loadMore } = this.props;\n\t\tloadMore();\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tremainingRecords,\n\t\t\tinfiniteScrollEnabled,\n\t\t} = this.props;\n\n\t\tif ( infiniteScrollEnabled ) {\n\t\t\t// When div is in viewport, next page will be loaded.\n\t\t\treturn <div className=\"wc-bookings-availability-scroll-trigger\" ref={ this.scrollTriggerRef } />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"wc-bookings-availability-load-more-listings\">\n\t\t\t\t{ sprintf( _n( '%s additional listing.', '%s additional listings.', remainingRecords, 'woocommerce-bookings-availability' ), remainingRecords ) }\n\t\t\t\t&nbsp;\n\t\t\t\t<a onClick={ this.loadMoreClick } href=\"#\"> { /* eslint-disable-line jsx-a11y/anchor-is-valid */ }\n\t\t\t\t\t{ __( 'Load more...', 'woocommerce-bookings-availability' ) }\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nPageLoader.propTypes = {\n\t/**\n\t * Number of remaining records that are unloaded.\n\t */\n\tremainingRecords: PropTypes.number.isRequired,\n\t/**\n\t * Prop to enable infinite scroll.\n\t */\n\tinfiniteScrollEnabled: PropTypes.bool.isRequired,\n\t/**\n\t * Callback function to load more records.\n\t */\n\tloadMore: PropTypes.func.isRequired,\n\n\tisLoading: PropTypes.bool,\n};\n\nPageLoader.defaultProps = {\n\t/**\n\t * Optional value that indicates that the external API fetch is already ongoing.\n\t */\n\tisLoading: false,\n};\n\nexport default PageLoader;\n","/**\n * External dependencies\n */\nimport { Fragment, useState, useContext, useEffect, useLayoutEffect, useRef } from '@wordpress/element';\nimport { PropTypes } from 'prop-types';\nimport { __ } from '@wordpress/i18n';\nimport moment from 'moment';\n\n/**\n * Internal dependencies\n */\nimport EventItem from '../../components/event-item';\nimport EmptyEventItem from '../../components/event-item/empty';\nimport {\n\tgetDateQueryLimits,\n\tisCustom,\n\tgetNoSlotsInRangeMessage,\n\tgetErrorLoadingSlotsInRangeMessage,\n\tgetIsRestrictedDay,\n} from '../../includes/date-utils';\nimport { DEFAULT_PAGE_SIZE } from '../../includes/misc-utils';\nimport PageLoader from '../../components/page-loader';\nimport productContext from '../../blocks/products-context/context';\nimport availabilityContext from '../../blocks/availability-context/context';\nimport scheduleContext from '../../blocks/bookings-schedule/context/context';\nimport calendarContext from '../../blocks/bookings-calendar/context/context';\nimport commonContext from '../../blocks/common-context/context';\n\nconst usePreviousProps = ( dateRangeType, infiniteScrollEnabled, offset, page, slotsPerPage ) => {\n\tconst ref = useRef();\n\n\tuseEffect( () => {\n\t\tref.current = { dateRangeType, infiniteScrollEnabled, offset, page, slotsPerPage };\n\t}, [ dateRangeType, infiniteScrollEnabled, offset, page, slotsPerPage ] );\n\n\treturn ref.current;\n};\n\nconst EventTable = ( props ) => {\n\tconst [ page, setPage ] = useState( 1 );\n\tconst firstRender = useRef( true );\n\tconst pageLoader = useRef( null );\n\n\tconst checkIfNextPageShouldBeFetched = () => {\n\t\tif ( pageLoader.current === null ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn pageLoader.current.scrollTriggerIsInViewport();\n\t};\n\n\tconst {\n\t\trequestProducts,\n\t\tgetProducts,\n\t\tproducts,\n\t\tproductsRequesting,\n\t\tproductsError,\n\t} = useContext( productContext );\n\n\tconst {\n\t\thasResultsForQuery,\n\t\tavailabilityRequesting,\n\t\tgetAvailability,\n\t\trequestAvailability,\n\t\tavailabilityError,\n\t\tgetRemainingRecordsCount,\n\t\thighestPageForQuery,\n\t} = useContext( availabilityContext );\n\n\tconst {\n\t\tdateRangeType,\n\t} = useContext( scheduleContext );\n\n\tconst {\n\t\tshowSoldOut,\n\t} = useContext( calendarContext );\n\n\tconst {\n\t\tresetOffset,\n\t\toffset,\n\t} = useContext( commonContext );\n\n\tlet { minDate, maxDate, forceDateFromProps } = props;\n\tconst { productIds, categoryIds, resourceIds, infiniteScrollEnabled, slotsPerPage, getPastTimes } = props;\n\n\tconst previousProps = usePreviousProps( dateRangeType, infiniteScrollEnabled, offset, page, slotsPerPage );\n\n\tconst productsQuery = {\n\t\tproductIds,\n\t};\n\n\tforceDateFromProps = forceDateFromProps === undefined ? false : forceDateFromProps;\n\tconst forcedDate = forceDateFromProps ? minDate : false;\n\n\tlet currentDate = 1;\n\n\tif ( ! isCustom( dateRangeType ) && ! forceDateFromProps ) {\n\t\tif ( 0 === offset && 'this-month' === dateRangeType ) {\n\t\t\tconst date = new Date();\n\t\t\tcurrentDate = date.getDate();\n\t\t}\n\n\t\tconst dateRange = getDateQueryLimits( dateRangeType, offset, currentDate );\n\t\tminDate = dateRange.minDate;\n\t\tmaxDate = dateRange.maxDate;\n\t}\n\n\tconst availabilityQuery = {\n\t\tminDate,\n\t\tmaxDate,\n\t\tproductIds,\n\t\tcategoryIds,\n\t\tresourceIds,\n\t\tpage,\n\t\tgetPastTimes: getPastTimes,\n\t\tpageSize: infiniteScrollEnabled ? DEFAULT_PAGE_SIZE : slotsPerPage,\n\t\tshowSoldOut: showSoldOut,\n\t};\n\n\tconst isError = productsError || availabilityError;\n\tconst isRequesting = productsRequesting || availabilityRequesting;\n\tconst remainingRecords = getRemainingRecordsCount( availabilityQuery );\n\tconst hasResults = hasResultsForQuery( availabilityQuery );\n\tconst isLastPage = hasResults && ( remainingRecords === 0 );\n\n\t// First run, get initial data.\n\tuseLayoutEffect( () => {\n\t\tif ( ! productsRequesting && getProducts().count === false ) {\n\t\t\trequestProducts( productsQuery );\n\t\t}\n\t\trequestAvailability( availabilityQuery );\n\t}, [] );\n\n\t// Detect a change that requries a new data fetch.\n\tuseLayoutEffect( () => {\n\t\tif ( firstRender.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( dateRangeType !== previousProps.dateRangeType ) {\n\t\t\tif ( offset !== 0 ) {\n\t\t\t\tresetOffset();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst newPage = highestPageForQuery( availabilityQuery );\n\t\t\tavailabilityQuery.page = newPage;\n\t\t\tsetPage( newPage );\n\t\t}\n\n\t\tif ( ( slotsPerPage !== previousProps.slotsPerPage ) ||\n\t\t\t( infiniteScrollEnabled === false && previousProps.infiniteScrollEnabled === true ) ||\n\t\t\t( offset !== previousProps.offset ) ) {\n\t\t\tconst newPage = highestPageForQuery( availabilityQuery );\n\t\t\tavailabilityQuery.page = newPage;\n\t\t\tsetPage( newPage );\n\t\t}\n\n\t\tif ( infiniteScrollEnabled === true && previousProps.infiniteScrollEnabled === false ) {\n\t\t\tconst shouldFetch = checkIfNextPageShouldBeFetched();\n\n\t\t\tif ( shouldFetch ) {\n\t\t\t\tconst newPage = highestPageForQuery( availabilityQuery ) + 1;\n\t\t\t\tavailabilityQuery.page = newPage;\n\t\t\t\tsetPage( newPage );\n\t\t\t}\n\t\t}\n\n\t\tif ( ! availabilityRequesting && ! hasResults && ! isLastPage && ! isError ) {\n\t\t\trequestAvailability( availabilityQuery );\n\t\t}\n\t}, [ dateRangeType, infiniteScrollEnabled, offset, page, slotsPerPage, availabilityRequesting, forcedDate ] );\n\n\t// Detect first render.\n\tuseEffect( () => {\n\t\tfirstRender.current = false;\n\t}, [] );\n\n\tconst availability = getAvailability( availabilityQuery );\n\n\tconst loadMoreSlots = () => {\n\t\t/*\n\t\t * availabilityRequesting checks if we are not currently requesting.\n\t\t * We don't want to bump page in that case.\n\t\t * hasResultsForQuery is true only if we have results for previous pages.\n\t\t * This check prevents skipping over a page. If page was increased by accident\n\t\t * twice without request being made we will face a inf loop.\n\t\t */\n\n\t\tif ( availabilityRequesting || ! hasResultsForQuery( availabilityQuery ) ) {\n\t\t\treturn;\n\t\t}\n\t\tsetPage( page + 1 );\n\t};\n\n\tconst tryAgain = () => {\n\t\trequestAvailability( availabilityQuery );\n\t};\n\n\tconst renderEvents = () => {\n\t\tconst {\n\t\t\tisPreview,\n\t\t\tshowEmptyDates,\n\t\t} = props;\n\n\t\tlet previousDate = null;\n\t\tlet shownAvailability = availability;\n\t\tconst placeholderAvailability = availability.slice( 0 );\n\t\tconst eventItems = [];\n\t\tconst placeHolderCount = ( infiniteScrollEnabled || 0 === remainingRecords ) ? DEFAULT_PAGE_SIZE : Math.min( slotsPerPage, remainingRecords );\n\t\tconst placeHolderProduct = {\n\t\t\tname: 'placeholder',\n\t\t\tduration: 1,\n\t\t\tduration_unit: 'day',\n\t\t\tplaceholder: true,\n\t\t};\n\t\tif ( isRequesting ) {\n\t\t\tfor ( let i = 0; i < placeHolderCount; i++ ) {\n\t\t\t\tplaceholderAvailability.push( {\n\t\t\t\t\ttitle: 'placeholder',\n\t\t\t\t\tdate: new Date( minDate ),\n\t\t\t\t\tcost: 0.00,\n\t\t\t\t\tproductId: 0,\n\t\t\t\t\tavailable: 0,\n\t\t\t\t\tplaceholder: true,\n\t\t\t\t} );\n\t\t\t}\n\t\t\tshownAvailability = placeholderAvailability;\n\t\t}\n\n\t\tlet key = 0;\n\t\tshownAvailability.forEach( ( data ) => {\n\t\t\tconst { date } = data;\n\t\t\tconst product = products[ data.productId ] || placeHolderProduct;\n\t\t\tconst momentPreviousDate = moment( previousDate );\n\t\t\tlet addSubHeader = false;\n\t\t\tif ( ! previousDate || momentPreviousDate.isBefore( date, 'day' ) ) {\n\t\t\t\tmomentPreviousDate.add( 1, 'day' );\n\n\t\t\t\twhile ( momentPreviousDate.isBefore( date, 'day' ) ) {\n\t\t\t\t\tif ( showEmptyDates ) {\n\t\t\t\t\t\teventItems.push( <EmptyEventItem key={ key } date={ momentPreviousDate.toDate() } /> );\n\t\t\t\t\t\tkey++;\n\t\t\t\t\t}\n\t\t\t\t\tmomentPreviousDate.add( 1, 'day' );\n\t\t\t\t}\n\t\t\t\taddSubHeader = true;\n\t\t\t}\n\n\t\t\tpreviousDate = date;\n\t\t\tif ( ! getIsRestrictedDay( date, product ) ) {\n\t\t\t\teventItems.push(\n\t\t\t\t\t<EventItem isPreview={ isPreview } key={ key } data={ data } product={ product } addSubheader={ addSubHeader } />\n\t\t\t\t);\n\t\t\t}\n\t\t\tkey++;\n\t\t} );\n\n\t\tconst addEndPaddingItems = ( ! ( page === 1 && isRequesting ) ) && remainingRecords === 0;\n\n\t\tif ( addEndPaddingItems && moment( previousDate ).isBefore( maxDate, 'day' ) ) {\n\t\t\tconst momentPreviousDate = moment( previousDate );\n\t\t\twhile ( momentPreviousDate.isBefore( maxDate, 'day' ) ) {\n\t\t\t\tmomentPreviousDate.add( 1, 'day' );\n\t\t\t\tif ( showEmptyDates ) {\n\t\t\t\t\teventItems.push( <EmptyEventItem key={ key } date={ momentPreviousDate.toDate() } /> );\n\t\t\t\t\tkey++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\tshownAvailability.length ? (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ul className=\"wc-bookings-availability-event-table\">\n\t\t\t\t\t\t{ eventItems }\n\t\t\t\t\t</ul>\n\t\t\t\t\t{ ! isLastPage &&\n\t\t\t\t\t\t<PageLoader ref={ pageLoader } infiniteScrollEnabled={ infiniteScrollEnabled } remainingRecords={ remainingRecords } loadMore={ loadMoreSlots } isLoading={ availabilityRequesting } />\n\t\t\t\t\t}\n\t\t\t\t</Fragment>\n\t\t\t) : (\n\t\t\t\t<div className=\"woocommerce-error notice notice-empty\">\n\t\t\t\t\t{ getNoSlotsInRangeMessage( dateRangeType ) }\n\t\t\t\t</div>\n\t\t\t)\n\t\t);\n\t};\n\n\treturn isError ?\n\t\t(\n\t\t\t<div className=\"woocommerce-error notice notice-error\">\n\t\t\t\t{ getErrorLoadingSlotsInRangeMessage( dateRangeType ) }\n\t\t\t\t{ ' ' }\n\t\t\t\t<a href=\"#\" onClick={ tryAgain }>{ __( 'Try again', 'woocommerce-bookings-availability' ) }</a>{ /* eslint-disable-line jsx-a11y/anchor-is-valid */ }\n\t\t\t</div>\n\t\t) : (\n\t\t\trenderEvents()\n\t\t);\n};\n\nEventTable.defaultProps = {\n\tproductIds: [],\n\tcategoryIds: [],\n\tresourceIds: [],\n\toffset: 0,\n\tgetPastTimes: false,\n};\n\nEventTable.propTypes = {\n\t/**\n\t * Sets up component for in-editor preview if true.\n\t */\n\tisPreview: PropTypes.bool,\n\t/**\n\t * If we should automattically load the next page on scroll.\n\t */\n\tinfiniteScrollEnabled: PropTypes.bool.isRequired,\n\t/**\n\t * Page size.\n\t */\n\tslotsPerPage: PropTypes.number,\n\n\tshowEmptyDates: PropTypes.bool,\n\n\tminDate: PropTypes.string,\n\n\tmaxDate: PropTypes.string,\n\n\tforceDateFromProps: PropTypes.bool,\n\n\toffset: PropTypes.number,\n\n\tproductIds: PropTypes.node,\n\n\tcategoryIds: PropTypes.node,\n\n\tresourceIds: PropTypes.node,\n\n\tgetPastTimes: PropTypes.bool,\n};\n\nexport default EventTable;\n\n// export lower order component to expose it for unit testing.\nexport { EventTable };\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * External dependencies.\n */\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies.\n */\nimport CommonContext from './context';\n\nconst CommonState = ( props ) => {\n\tlet newProps;\n\n\tif ( 'undefined' !== props.isFrontend && true === props.isFrontend ) {\n\t\tnewProps = props;\n\t} else {\n\t\tnewProps = props.attributes;\n\t}\n\n\t/**\n\t * Offset.\n\t */\n\tconst [ offset, setOffset ] = useState( 0 );\n\n\tconst gotoPrev = ( e ) => {\n\t\te.preventDefault();\n\t\tsetOffset( parseInt( offset, 10 ) - 1 );\n\t};\n\n\tconst gotoNext = ( e ) => {\n\t\te.preventDefault();\n\t\tsetOffset( parseInt( offset, 10 ) + 1 );\n\t};\n\n\tconst gotoCurrent = ( e ) => {\n\t\te.preventDefault();\n\t\tsetOffset( 0 );\n\t};\n\n\tconst resetOffset = () => {\n\t\tsetOffset( 0 );\n\t};\n\n\t/**\n\t * showDateNav.\n\t */\n\tconst onShowDateNavUpdate = () => {\n\t\tprops.setAttributes( { showDateNav: ! newProps.showDateNav } );\n\t};\n\n\t/**\n\t * showEmptyDates.\n\t */\n\tconst onShowEmptyDatesUpdate = () => {\n\t\tprops.setAttributes( { showEmptyDates: ! newProps.showEmptyDates } );\n\t};\n\n\treturn (\n\t\t<CommonContext.Provider value={ {\n\t\t\toffset: offset,\n\t\t\tgotoPrev: gotoPrev,\n\t\t\tgotoNext: gotoNext,\n\t\t\tgotoCurrent: gotoCurrent,\n\t\t\tresetOffset: resetOffset,\n\t\t\tshowDateNav: newProps.showDateNav,\n\t\t\tonShowDateNavUpdate: onShowDateNavUpdate,\n\t\t\tshowEmptyDates: newProps.showEmptyDates,\n\t\t\tonShowEmptyDatesUpdate: onShowEmptyDatesUpdate,\n\t\t} }\n\t\t>\n\t\t\t{ props.children }\n\t\t</CommonContext.Provider>\n\t);\n};\n\nCommonState.propTypes = {\n\tchildren: PropTypes.object,\n\tattributes: PropTypes.object,\n\tsetAttributes: PropTypes.func,\n\tisFrontend: PropTypes.bool,\n};\n\nexport default CommonState;\n","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * External dependencies.\n */\nimport { useState } from '@wordpress/element';\nimport { addQueryArgs } from '@wordpress/url';\nimport apiFetch from '@wordpress/api-fetch';\nimport { pickBy, identity, reduce } from 'lodash';\n\n/**\n * Internal dependencies.\n */\nimport ProductsContext from './context';\n\n/**\n * Helper function that transforms array of products returned from API\n * to a more convenient Object keyed by products ids.\n *\n * @param {array} products\n */\nconst transformProductsListToObject = ( products ) => {\n\treturn reduce( products, function( obj, product ) {\n\t\tconst id = product.id;\n\t\tdelete product.id;\n\t\tproduct.durationUnit = product.duration_unit;\n\t\tdelete product.duration_unit;\n\t\tobj[ id ] = product;\n\t\treturn obj;\n\t}, {} );\n};\n\nconst ProductsState = ( props ) => {\n\tconst [ products, setProducts ] = useState( { products: {}, count: false, query: {} } );\n\tconst [ productsRequesting, setProductsRequesting ] = useState( false );\n\tconst [ productsError, setProductsError ] = useState( false );\n\n\tconst requestProducts = ( query ) => {\n\t\tquery = query || {};\n\n\t\tconst {\n\t\t\tproductIds = '',\n\t\t} = query;\n\n\t\tconst queryArgs = {\n\t\t\tinclude: productIds,\n\t\t\tper_page: -1,\n\t\t\t_locale: 'user',\n\t\t};\n\n\t\tconst path = addQueryArgs(\n\t\t\t'/wc-bookings/v1/products',\n\t\t\tpickBy( queryArgs, identity )\n\t\t);\n\n\t\tsetProductsRequesting( true );\n\t\tapiFetch( { path } ).then(\n\t\t\t( _products ) => {\n\t\t\t\tconst productsObj = transformProductsListToObject( _products );\n\t\t\t\tsetProducts( { products: productsObj, count: _products.length, query } );\n\t\t\t\tsetProductsError( false );\n\t\t\t\tsetProductsRequesting( false );\n\t\t\t},\n\t\t\t( error ) => {\n\t\t\t\tsetProductsError( error );\n\t\t\t\tsetProductsRequesting( false );\n\t\t\t}\n\t\t);\n\t};\n\n\tconst getProducts = () => {\n\t\treturn products;\n\t};\n\n\treturn (\n\t\t<ProductsContext.Provider value={ {\n\t\t\tproducts: products.products,\n\t\t\tgetProducts,\n\t\t\trequestProducts,\n\t\t\tproductsError,\n\t\t\tproductsRequesting,\n\t\t} }\n\t\t>\n\t\t\t{ props.children }\n\t\t</ProductsContext.Provider>\n\t);\n};\n\nProductsState.propTypes = {\n\tchildren: PropTypes.object,\n\tattributes: PropTypes.object,\n\tsetAttributes: PropTypes.func,\n\tisFrontend: PropTypes.bool,\n};\n\nexport default ProductsState;\n","var content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--6-2!../../../../node_modules/postcss-loader/src/index.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-4!./style.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","(function() { module.exports = this[\"moment-timezone\"]; }());","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--6-2!../../../../node_modules/postcss-loader/src/index.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-4!./style.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies.\n */\nimport ScheduleContext from './context';\n\nconst ScheduleState = ( props ) => {\n\tlet newProps;\n\n\tif ( 'undefined' !== props.isFrontend && true === props.isFrontend ) {\n\t\tnewProps = props;\n\t} else {\n\t\tnewProps = props.attributes;\n\t}\n\n\t/**\n\t * dateRangeType.\n\t */\n\tconst onTimeRangeUpdate = ( dateRangeType ) => {\n\t\tprops.setAttributes( { dateRangeType } );\n\t};\n\n\treturn (\n\t\t<ScheduleContext.Provider value={ {\n\t\t\tdateRangeType: newProps.dateRangeType,\n\t\t\tonTimeRangeUpdate: onTimeRangeUpdate,\n\t\t} }\n\t\t>\n\t\t\t{ props.children }\n\t\t</ScheduleContext.Provider>\n\t);\n};\n\nScheduleState.propTypes = {\n\tchildren: PropTypes.object,\n\tattributes: PropTypes.object,\n\tsetAttributes: PropTypes.func,\n\tisFrontend: PropTypes.bool,\n};\n\nexport default ScheduleState;\n","/**\n * External dependencies\n */\nimport { render } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport BookingContainer from '../../components/event-table/container';\nimport { decodeAttributesFor } from '../../includes/misc-utils';\nimport CommonState from '../common-context/common-state';\nimport ProductsState from '../products-context/products-state';\nimport ScheduleState from './context/schedule-state';\n\nconst bookingsContainersHTML = document.getElementsByClassName( 'wc-bookings-availability-main-events-container' );\n\nfor ( const bookingsContainerHTML of bookingsContainersHTML ) {\n\tconst attributes = decodeAttributesFor( 'schedule', bookingsContainerHTML.dataset );\n\n\trender(\n\t\t<CommonState isFrontend={ true } { ...attributes }>\n\t\t\t<ProductsState isFrontend={ true }>\n\t\t\t\t<ScheduleState isFrontend={ true } { ...attributes }>\n\t\t\t\t\t<BookingContainer { ...attributes } />\n\t\t\t\t</ScheduleState>\n\t\t\t</ProductsState>\n\t\t</CommonState>,\n\t\tbookingsContainerHTML\n\t);\n}\n"],"sourceRoot":""}